# üèõÔ∏è  AI Assistant - Environment Configuration
# Copy this file to .env and configure the values below

# =============================================================================
# ü§ñ AI SERVICE CONFIGURATION (Required)
# =============================================================================

# Google Gemini AI API Key (Required for AI chat functionality)
# Get your free API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# AI Model Settings
AI_MODEL=gemini-pro
AI_TEMPERATURE=0.7
AI_MAX_TOKENS=1000

# =============================================================================
# üóÑÔ∏è DATABASE CONFIGURATION
# =============================================================================

# Database URL (SQLite by default - no setup required)
# For SQLite (recommended for development):
DATABASE_URL=sqlite:///./kapital_assistant.db

# For PostgreSQL (production):
# DATABASE_URL=postgresql://username:password@localhost:5432/kapital_bank_db

# Database Pool Settings (for PostgreSQL)
DB_POOL_MIN_SIZE=2
DB_POOL_MAX_SIZE=10

# =============================================================================
# üåê APPLICATION SETTINGS
# =============================================================================

# Application Info
APP_NAME= AI Assistant
APP_VERSION=1.0.0
APP_DESCRIPTION=AI-powered banking location & currency intelligence for Azerbaijan

# Environment (development, staging, production)
ENVIRONMENT=development
DEBUG=True

# Server Settings
HOST=0.0.0.0
PORT=8000
RELOAD=True

# =============================================================================
# üîó EXTERNAL API CONFIGURATION
# =============================================================================

#  API Settings
KAPITAL_BANK_BASE_URL=https://www.kapitalbank.az/locations/region
KAPITAL_BANK_TIMEOUT=30
KAPITAL_BANK_RETRY_COUNT=3

# Currency API Settings
CBAR_BASE_URL=https://www.cbar.az/currencies
AZN_RATES_URL=https://www.azn.az/data/data.json
VALYUTA_API_URL=https://www.valyuta.com/api/all-bank-rates

# API Timeouts (seconds)
EXTERNAL_API_TIMEOUT=30
CURRENCY_API_TIMEOUT=15

# =============================================================================
# ‚ö° CACHING CONFIGURATION
# =============================================================================

# Cache TTL Settings (seconds)
CACHE_TTL_LOCATIONS=3600      # 1 hour for location data
CACHE_TTL_CURRENCY=300        # 5 minutes for currency rates
CACHE_TTL_GENERAL=1800        # 30 minutes for general cache

# Redis Configuration (Optional - for advanced caching)
# REDIS_URL=redis://localhost:6379/0
# REDIS_PASSWORD=your_redis_password
# REDIS_DB=0

# =============================================================================
# üõ°Ô∏è SECURITY & RATE LIMITING
# =============================================================================

# Rate Limiting
REQUESTS_PER_MINUTE=100
REQUESTS_PER_DAY=5000
REQUESTS_PER_HOUR=1000

# API Security
API_KEY_HEADER=X-API-Key
# API_KEY=your_optional_api_key_for_protection

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000", "https://yourdomain.com"]
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# =============================================================================
# üìç LOCATION & MAP SETTINGS
# =============================================================================

# Default Location (Baku, Azerbaijan)
DEFAULT_LATITUDE=40.4093
DEFAULT_LONGITUDE=49.8671

# Map Settings
MAX_SEARCH_RADIUS_KM=50
DEFAULT_SEARCH_RADIUS_KM=5
MAX_SEARCH_RESULTS=50
DEFAULT_SEARCH_RESULTS=10

# Location Services
ENABLE_GEOLOCATION=True
ENABLE_MAPS=True

# =============================================================================
# üí¨ CHAT & AI SETTINGS
# =============================================================================

# Chat Configuration
MAX_CHAT_HISTORY=50
CHAT_SESSION_TIMEOUT=3600     # 1 hour
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=["en", "az"]

# AI Response Settings
AI_MAX_RESPONSE_LENGTH=2000
AI_CONTEXT_WINDOW=4000
ENABLE_AI_MEMORY=True

# =============================================================================
# üìä MONITORING & LOGGING
# =============================================================================

# Logging Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Enable Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=True
ENABLE_REQUEST_LOGGING=True

# Health Check Settings
HEALTH_CHECK_INTERVAL=60      # seconds
ENABLE_DETAILED_HEALTH_CHECKS=True

# Error Tracking (Optional - Sentry)
# SENTRY_DSN=your_sentry_dsn_here
# SENTRY_ENVIRONMENT=development

# =============================================================================
# üîß MCP SERVER SETTINGS
# =============================================================================

# MCP Server Configuration
MCP_SERVER_TIMEOUT=30
MCP_RETRY_COUNT=3
MCP_ENABLE_FALLBACK=True

#  MCP Server
KB_MCP_CACHE_TTL=3600
KB_MCP_MAX_LOCATIONS=100

# Currency MCP Server  
CURRENCY_MCP_CACHE_TTL=300
CURRENCY_MCP_MAX_HISTORY_DAYS=30

# =============================================================================
# üì± UI & FRONTEND SETTINGS
# =============================================================================

# UI Configuration
ITEMS_PER_PAGE=10
ENABLE_DARK_MODE=True
ENABLE_OFFLINE_MODE=True

# Feature Flags
ENABLE_VOICE_INPUT=True
ENABLE_EXPORT_FEATURES=True
ENABLE_NOTIFICATIONS=True

# Map Provider Settings
MAP_PROVIDER=leaflet
MAP_DEFAULT_ZOOM=12
MAP_MAX_ZOOM=18

# =============================================================================
# üöÄ DEPLOYMENT SETTINGS
# =============================================================================

# Production Settings (only for production environment)
# SECRET_KEY=your_super_secret_key_for_production
# ALLOWED_HOSTS=["yourdomain.com", "www.yourdomain.com"]

# SSL Settings (for production)
# USE_SSL=True
# SSL_REDIRECT=True

# Static Files (for production)
# STATIC_URL=/static/
# STATIC_ROOT=/app/staticfiles/

# =============================================================================
# üß™ DEVELOPMENT & TESTING SETTINGS
# =============================================================================

# Development Features
ENABLE_DEBUG_TOOLBAR=False
ENABLE_API_DOCS=True
ENABLE_ADMIN_INTERFACE=False

# Testing
TESTING=False
TEST_DATABASE_URL=sqlite:///./test_kapital_assistant.db

# Mock Data (for development when external APIs are unavailable)
USE_MOCK_DATA=False
MOCK_LOCATIONS=True
MOCK_CURRENCY_RATES=True

# =============================================================================
# üìà ANALYTICS & TRACKING (Optional)
# =============================================================================

# User Analytics (Optional)
# GOOGLE_ANALYTICS_ID=GA_MEASUREMENT_ID
# ENABLE_USER_TRACKING=False

# Business Intelligence
ENABLE_USAGE_ANALYTICS=True
TRACK_USER_INTERACTIONS=True
TRACK_API_USAGE=True

# =============================================================================
# üìß NOTIFICATIONS & ALERTS (Optional)
# =============================================================================

# Email Configuration (for alerts and notifications)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_USE_TLS=True

# Notification Settings
# ADMIN_EMAIL=admin@yourdomain.com
# ENABLE_ERROR_NOTIFICATIONS=False
# ENABLE_PERFORMANCE_ALERTS=False

# =============================================================================
# üåç LOCALIZATION
# =============================================================================

# Timezone
TIMEZONE=Asia/Baku
DATE_FORMAT=%d.%m.%Y
TIME_FORMAT=%H:%M
DATETIME_FORMAT=%d.%m.%Y %H:%M

# Currency Display
DEFAULT_CURRENCY=AZN
CURRENCY_PRECISION=4
CURRENCY_DISPLAY_FORMAT=symbol

# =============================================================================
# üîç SEARCH & FILTERING
# =============================================================================

# Search Configuration
SEARCH_MIN_QUERY_LENGTH=2
SEARCH_MAX_RESULTS=100
ENABLE_FUZZY_SEARCH=True

# Location Filtering
LOCATION_DISTANCE_UNIT=km
LOCATION_SORT_DEFAULT=distance

# Currency Filtering
SHOW_ALL_CURRENCIES=False
PRIORITY_CURRENCIES=["USD", "EUR", "RUB", "TRY", "GBP"]

# =============================================================================
# üì± MOBILE & PWA SETTINGS
# =============================================================================

# Progressive Web App
ENABLE_PWA=True
PWA_SHORT_NAME=Banking Assistant
PWA_THEME_COLOR=#1f4e79
PWA_BACKGROUND_COLOR=#ffffff

# Mobile Optimization
ENABLE_MOBILE_OPTIMIZATION=True
MOBILE_VIEWPORT_SCALE=1.0

# =============================================================================
# ‚öôÔ∏è ADVANCED SETTINGS
# =============================================================================

# Worker Settings (for production)
WORKERS=4
WORKER_CLASS=uvicorn.workers.UvicornWorker
WORKER_TIMEOUT=120

# Connection Pools
HTTP_POOL_CONNECTIONS=10
HTTP_POOL_MAXSIZE=20

# Background Tasks
ENABLE_BACKGROUND_TASKS=True
TASK_QUEUE_SIZE=1000

# =============================================================================
# üìù NOTES
# =============================================================================

# Required Environment Variables:
# - GEMINI_API_KEY: Get from https://makersuite.google.com/app/apikey
# - DATABASE_URL: SQLite by default, PostgreSQL for production

# Optional but Recommended:
# - REDIS_URL: For better caching performance
# - SENTRY_DSN: For error tracking in production
# - SECRET_KEY: For production security

# Development vs Production:
# - Set ENVIRONMENT=production for production deployments
# - Set DEBUG=False for production
# - Configure proper DATABASE_URL for production
# - Set up proper CORS_ORIGINS for production

# =============================================================================